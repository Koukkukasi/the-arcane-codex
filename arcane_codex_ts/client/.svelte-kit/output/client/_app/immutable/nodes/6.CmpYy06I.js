import{b as Pe,d as st,c as le,a as m,f as b,t as Se}from"../chunks/DmY1WVrf.js";import{o as rt}from"../chunks/DdSxMtKz.js";import{t as I,i as Me,j as Ie,_ as it,aL as ot,y as Ne,ad as nt,ae as lt,aK as dt,aE as ct,V as vt,ac as U,h as G,p as pt,d as W,P as Re,a as mt,e as ht,c as a,b as i,g as e,Q as ft,$ as ut,r as t,f as _,n as F,s as T}from"../chunks/BXw_DALN.js";import{d as gt,s as k}from"../chunks/DgWjOOEg.js";import{I as de,b as ce,e as H,C as je,i as L,B as Be,s as _t,c as yt,d as xt}from"../chunks/cHulNqf8.js";import{l as ve,s as pe,i as K}from"../chunks/ysmZaXG2.js";import{c as $t}from"../chunks/Cc4t3Kl8.js";import{h as wt,g as j}from"../chunks/Cpt9m_Kh.js";import{b as Ee}from"../chunks/BaIPS2ST.js";import{U as bt,A as ne}from"../chunks/DIN2IoTO.js";import{B as We,S as He}from"../chunks/C2oLaJY4.js";import{C as Ct}from"../chunks/D1Ckaw4V.js";import"../chunks/39cS-JjE.js";function zt(C,y,f=!1,c=!1,v=!1){var n=C,o="";I(()=>{var d=it;if(o===(o=y()??"")){Me&&Ie();return}if(d.nodes_start!==null&&(ot(d.nodes_start,d.nodes_end),d.nodes_start=d.nodes_end=null),o!==""){if(Me){Ne.data;for(var u=Ie(),O=u;u!==null&&(u.nodeType!==nt||u.data!=="");)O=u,u=lt(u);if(u===null)throw dt(),ct;Pe(Ne,O),n=vt(u);return}var P=o+"";f?P=`<svg>${P}</svg>`:c&&(P=`<math>${P}</math>`);var z=st(P);if((f||c)&&(z=U(z)),Pe(U(z),z.lastChild),f||c)for(;U(z);)n.before(U(z));else n.before(z)}})}function At(C,y){const f=ve(y,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const c=[["path",{d:"m9 18 6-6-6-6"}]];de(C,pe({name:"chevron-right"},()=>f,{get iconNode(){return c},children:(v,n)=>{var o=le(),d=G(o);ce(d,y,"default",{}),m(v,o)},$$slots:{default:!0}}))}function Tt(C,y){const f=ve(y,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const c=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}]];de(C,pe({name:"message-square"},()=>f,{get iconNode(){return c},children:(v,n)=>{var o=le(),d=G(o);ce(d,y,"default",{}),m(v,o)},$$slots:{default:!0}}))}function Le(C,y){const f=ve(y,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.511.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const c=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"}],["path",{d:"M20 3v4"}],["path",{d:"M22 5h-4"}],["path",{d:"M4 17v2"}],["path",{d:"M5 18H3"}]];de(C,pe({name:"sparkles"},()=>f,{get iconNode(){return c},children:(v,n)=>{var o=le(),d=G(o);ce(d,y,"default",{}),m(v,o)},$$slots:{default:!0}}))}var kt=b('<p class="text-arcane-parchment font-body leading-relaxed whitespace-pre-wrap"><!></p>'),Pt=b('<div class="mt-6 flex items-center justify-center gap-3 text-arcane-gold"><!> <span class="font-body">The Arcane Codex is weaving reality...</span></div>'),St=b('<div class="prose prose-invert prose-gold max-w-none svelte-1y9rctv"></div> <!>',1),Mt=b('<div class="flex items-center gap-2 mt-2"><div class="flex -space-x-1"></div> <!></div>'),It=b('<div class="flex items-start gap-4"><div><!></div> <div class="flex-1"><p class="text-arcane-parchment font-body"> </p> <!></div> <!></div>'),Nt=b('<button class="choice-card w-full text-left transition-all duration-200"><!></button>'),Rt=b("<!> Confirm Choice",1),jt=b('<div class="space-y-3"><div class="flex items-center justify-between mb-4"><h2 class="font-heading text-arcane-parchment">What will you do?</h2> <p class="text-sm text-arcane-parchment-dim"> </p></div> <!> <div class="flex justify-end mt-6"><!></div></div>'),Bt=b('<div class="flex items-center gap-2 text-sm"><!> <div><p class="font-heading text-arcane-parchment text-xs"> </p> <p class="text-arcane-parchment-dim text-xs capitalize"> </p></div> <!></div>'),Et=b('<main class="min-h-screen flex flex-col"><div class="bg-arcane-elevated border-b border-arcane-gold/20 p-4"><div class="max-w-5xl mx-auto flex items-center justify-between"><div class="flex items-center gap-3"><!> <div><p class="text-xs text-arcane-parchment-dim font-mono">CHAPTER I</p> <h1 class="font-heading text-arcane-gold"> </h1></div></div> <div class="flex items-center gap-4"><div class="flex items-center gap-2 text-sm"><!> <span class="font-mono text-arcane-parchment"> </span></div> <div class="flex -space-x-2"></div></div></div></div> <div class="flex-1 overflow-y-auto"><div class="max-w-5xl mx-auto p-4 md:p-8"><div><!></div> <!></div></div> <div class="bg-arcane-elevated border-t border-arcane-gold/20 p-3"><div class="max-w-5xl mx-auto flex items-center justify-between"><div class="flex gap-4"></div> <div class="flex items-center gap-2"><!> <span class="text-sm text-arcane-parchment-dim"> </span></div></div></div></main>');function Xt(C,y){pt(y,!0);let f,c,v=W(Re({id:"1",setting:"The Whispering Crypts",narrative:`The ancient stone doors grind open, releasing centuries of stale air. Before you stretches a corridor of impossible length, its walls adorned with faded murals depicting the fall of an empire whose name has been lost to time.

Phosphorescent fungi cling to the ceiling, casting an ethereal blue glow that dances with shadows. At the far end, you can barely make out a massive archway, beyond which something pulses with a sickly golden light.

Your footsteps echo unnaturally—each sound seems to return to you distorted, as if the crypt itself is whispering secrets in a language older than words.

*What does your party do?*`,choices:[{id:"c1",text:"Proceed cautiously, weapons ready. The light ahead may be a trap.",type:"action",votes:2},{id:"c2",text:"Examine the murals closely. Their story may hold clues about what awaits.",type:"investigate",votes:1},{id:"c3",text:"Send a familiar or scout ahead to assess the danger.",type:"action",votes:0},{id:"c4",text:"Call out. If something dwells here, better to meet it on your terms.",type:"dialogue",votes:0}],isAIGenerating:!1})),n=W(Re([{id:"p1",name:"Aetherion",class:"mage",vote:"c1"},{id:"p2",name:"Shadowmere",class:"rogue",vote:"c1"},{id:"p3",name:"Grimholt",class:"warrior",vote:"c2"},{id:"p4",name:"You",class:"healer",vote:void 0}])),o=W(null),d=W(!1),u=W(45);const O={action:He,dialogue:Tt,investigate:We,combat:He};function P(s){T(o,s,!0),T(n,e(n).map(r=>r.id==="p4"?{...r,vote:s}:r),!0),T(v,{...e(v),choices:e(v).choices.map(r=>({...r,votes:e(n).filter(h=>h.vote===r.id).length}))},!0),j.to(`[data-choice="${s}"]`,{scale:1.02,duration:.2,ease:"back.out(2)"})}function z(){e(o)&&(T(d,!0),setTimeout(()=>{j.to(c,{opacity:0,y:-20,duration:.3,onComplete:()=>{T(v,{id:"2",setting:"The Hall of Echoes",narrative:`Acting on your collective decision, the party advances toward the pulsing light. The murals seem to shift as you pass, their painted eyes following your movement.

As you near the archway, the whispers coalesce into coherent words—fragments of warning in the old tongue. Aetherion's eyes widen with recognition.

"It's a ward," the mage breathes. "This entire corridor is a containment circle. Whatever lies beyond... it was meant to stay there."

But it is too late. The golden light flares, and the archway reveals not a chamber, but a tear in reality itself. Through it, you glimpse impossible geometries and a presence that defies comprehension.

**A voice thunders in your minds:**
*"At last... new vessels to carry my message to the waking world."*

Roll for Will saves.`,choices:[{id:"c5",text:"Steel your mind against the intrusion. You will not be puppets.",type:"action",votes:0},{id:"c6",text:"Attempt to close the rift with combined magical force.",type:"action",votes:0},{id:"c7",text:"Speak to the entity. Perhaps it can be reasoned with.",type:"dialogue",votes:0},{id:"c8",text:"Flee back through the corridor before the ward fully collapses.",type:"action",votes:0}],isAIGenerating:!1},!0),T(o,null),T(n,e(n).map(s=>({...s,vote:void 0})),!0),T(d,!1),j.fromTo(c,{opacity:0,y:20},{opacity:1,y:0,duration:.5,ease:"power2.out"})}})},2e3))}rt(()=>{j.from(f,{opacity:0,duration:.5}),j.from(c,{opacity:0,y:30,duration:.8,delay:.2,ease:"power2.out"}),j.from(".choice-card",{opacity:0,x:30,duration:.4,stagger:.1,delay:.5,ease:"power2.out"});const s=setInterval(()=>{e(u)>0&&ft(u,-1)},1e3);return()=>clearInterval(s)});const Ge=_(()=>e(v).choices.reduce((s,r)=>(s.votes||0)>(r.votes||0)?s:r));var Y=Et();wt("1y9rctv",s=>{ht(()=>{ut.title="Scenario | The Arcane Codex"})});var Q=a(Y),me=a(Q),J=a(me),he=a(J);We(he,{size:20,class:"text-arcane-gold"});var fe=i(he,2),ue=i(a(fe),2),Oe=a(ue,!0);t(ue),t(fe),t(J);var ge=i(J,2),X=a(ge),_e=a(X);Ct(_e,{size:16,class:"text-arcane-gold"});var ye=i(_e,2),Ye=a(ye);t(ye),t(X);var xe=i(X,2);H(xe,21,()=>e(n),L,(s,r)=>{{let h=_(()=>e(r).name.slice(0,1)),x=_(()=>e(r).vote?"online":"away");ne(s,{get initials(){return e(h)},size:"sm",get status(){return e(x)}})}}),t(xe),t(ge),t(me),t(Q);var Z=i(Q,2),$e=a(Z),V=a($e),Ve=a(V);je(Ve,{variant:"elevated",padding:"lg",class:"mb-8 arcane-panel",children:(s,r)=>{var h=St(),x=G(h);H(x,21,()=>e(v).narrative.split(`

`),L,($,w)=>{var p=kt(),l=a(p);zt(l,()=>e(w).replace(/\*\*(.*?)\*\*/g,'<strong class="text-arcane-gold">$1</strong>').replace(/\*(.*?)\*/g,'<em class="text-arcane-parchment-dim">$1</em>')),t(p),m($,p)}),t(x);var S=i(x,2);{var A=$=>{var w=Pt(),p=a(w);Le(p,{size:20,class:"animate-pulse"}),F(2),t(w),m($,w)};K(S,$=>{e(d)&&$(A)})}m(s,h)},$$slots:{default:!0}}),t(V),Ee(V,s=>c=s,()=>c);var qe=i(V,2);{var De=s=>{var r=jt(),h=a(r),x=i(a(h),2),S=a(x);t(x),t(h);var A=i(h,2);H(A,17,()=>e(v).choices,L,(p,l)=>{const q=_(()=>O[e(l).type]),g=_(()=>e(o)===e(l).id),N=_(()=>e(l).id===e(Ge).id&&(e(l).votes||0)>0);var R=Nt();R.__click=()=>P(e(l).id);var te=a(R);{let Fe=_(()=>e(g)?"glow":"bordered"),Ke=_(()=>e(g)?"ring-2 ring-arcane-gold":e(N)?"border-arcane-gold/50":"");je(te,{get variant(){return e(Fe)},padding:"md",get class(){return e(Ke)},children:(Qe,Wt)=>{var ae=It(),D=a(ae),Je=a(D);$t(Je,()=>e(q),(M,B)=>{B(M,{size:20})}),t(D);var se=i(D,2),re=a(se),Xe=a(re,!0);t(re);var Ze=i(re,2);{var et=M=>{var B=Mt(),ie=a(B);H(ie,21,()=>e(n).filter(E=>E.vote===e(l).id),L,(E,oe)=>{{let Te=_(()=>e(oe).name.slice(0,1));ne(E,{get initials(){return e(Te)},size:"sm"})}}),t(ie);var at=i(ie,2);{let E=_(()=>e(N)?"gold":"neutral");Be(at,{get variant(){return e(E)},size:"sm",children:(oe,Te)=>{F();var ke=Se();I(()=>k(ke,`${e(l).votes??""} ${e(l).votes===1?"vote":"votes"}`)),m(oe,ke)},$$slots:{default:!0}})}t(B),m(M,B)};K(Ze,M=>{(e(l).votes||0)>0&&M(et)})}t(se);var tt=i(se,2);{let M=_(()=>e(g)?"text-arcane-gold":"");At(tt,{size:20,get class(){return`text-arcane-parchment-dim ${e(M)??""}`}})}t(ae),I(()=>{_t(D,1,`w-10 h-10 rounded-lg flex items-center justify-center
                    ${e(g)?"bg-arcane-gold text-arcane-void":"bg-arcane-surface text-arcane-gold"}`),k(Xe,e(l).text)}),m(Qe,ae)},$$slots:{default:!0}})}t(R),I(()=>yt(R,"data-choice",e(l).id)),m(p,R)});var $=i(A,2),w=a($);{let p=_(()=>!e(o));xt(w,{variant:"primary",size:"lg",get disabled(){return e(p)},onclick:z,children:(l,q)=>{var g=Rt(),N=G(g);Le(N,{size:18,class:"mr-2"}),F(),m(l,g)},$$slots:{default:!0}})}t($),t(r),I(p=>k(S,`${p??""}/${e(n).length??""} voted`),[()=>e(n).filter(p=>p.vote).length]),m(s,r)};K(qe,s=>{e(d)||s(De)})}t($e),t(Z);var we=i(Z,2),be=a(we),ee=a(be);H(ee,21,()=>e(n),L,(s,r)=>{var h=Bt(),x=a(h);{let g=_(()=>e(r).name.slice(0,1));ne(x,{get initials(){return e(g)},size:"sm"})}var S=i(x,2),A=a(S),$=a(A,!0);t(A);var w=i(A,2),p=a(w,!0);t(w),t(S);var l=i(S,2);{var q=g=>{Be(g,{variant:"gold",size:"sm",children:(N,R)=>{F();var te=Se("Voted");m(N,te)},$$slots:{default:!0}})};K(l,g=>{e(r).vote&&g(q)})}t(h),I(()=>{k($,e(r).name),k(p,e(r).class)}),m(s,h)}),t(ee);var Ce=i(ee,2),ze=a(Ce);bt(ze,{size:16,class:"text-arcane-parchment-dim"});var Ae=i(ze,2),Ue=a(Ae);t(Ae),t(Ce),t(be),t(we),t(Y),Ee(Y,s=>f=s,()=>f),I(()=>{k(Oe,e(v).setting),k(Ye,`${e(u)??""}s`),k(Ue,`${e(n).length??""} adventurers`)}),m(C,Y),mt()}gt(["click"]);export{Xt as component};
