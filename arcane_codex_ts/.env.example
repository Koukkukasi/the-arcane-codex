# =====================================================
# The Arcane Codex - Environment Configuration
# =====================================================

# Anthropic API Configuration
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_api_key_here

# Model Configuration
# Recommended: claude-sonnet-4-5-20250929 (latest Sonnet 4.5)
# Alternatives: claude-3-5-sonnet-20241022, claude-3-haiku-20240307
ANTHROPIC_MODEL=claude-sonnet-4-5-20250929

# MCP Service Configuration
MCP_MAX_RETRIES=3
MCP_TIMEOUT_MS=30000

# =====================================================
# Server Configuration
# =====================================================
PORT=5001
NODE_ENV=development

# SECURITY: Session Secret (REQUIRED in production)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=your_session_secret_here

# SECURITY: Allowed CORS Origins (comma-separated)
# In production, list only your actual domains
ALLOWED_ORIGINS=http://localhost:5000,http://localhost:5001,http://localhost:3000

# =====================================================
# PostgreSQL Database Configuration
# =====================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=arcane_codex
DB_USER=postgres
# SECURITY: Database password (REQUIRED in production)
DB_PASSWORD=your-database-password-here
DB_POOL_MAX=20

# Test Database (for running tests)
DB_TEST_NAME=arcane_codex_test

# =====================================================
# Logging Configuration
# =====================================================
LOG_LEVEL=info

# =====================================================
# JWT Authentication Configuration
# =====================================================
# Generate secure secrets with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-jwt-secret-here-change-in-production
JWT_REFRESH_SECRET=your-refresh-secret-here-change-in-production

# =====================================================
# Token Cleanup Configuration
# =====================================================
# How often to clean up expired refresh tokens (in minutes)
TOKEN_CLEANUP_INTERVAL=60

# =====================================================
# Session Persistence Configuration
# =====================================================
# Hours before an inactive session is considered stale
STALE_SESSION_HOURS=4

# Days before abandoned sessions are permanently deleted
DELETE_ABANDONED_DAYS=7

# How often to run session cleanup (in minutes)
SESSION_CLEANUP_INTERVAL=15

# Whether to restore active sessions on server startup
RESTORE_SESSIONS_ON_STARTUP=true

# Maximum age (in hours) of sessions that can be restored
MAX_RESTORE_AGE_HOURS=24
