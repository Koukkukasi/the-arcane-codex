<!--
    ENHANCED OVERLAY IMPLEMENTATIONS FOR ARCANE CODEX

    These are ready-to-use HTML structures for the 4 remaining overlays.
    Copy and paste into the main HTML file to replace the existing overlay sections.

    Location: Insert into arcane_codex_scenario_ui_enhanced.html before </body>
-->

<!-- ========================================
     1. MAP OVERLAY - Ready to Deploy
     ======================================== -->

<div id="map-overlay" class="overlay">
    <div class="overlay-backdrop"></div>
    <div class="overlay-content">
        <div class="overlay-header">
            <h2>ğŸ—ºï¸ World Map</h2>
            <button class="close-btn">&times;</button>
        </div>
        <div class="overlay-body">
            <!-- Map Canvas/SVG Area -->
            <div class="map-area">
                <svg class="map-svg" viewBox="0 0 800 600" preserveAspectRatio="xMidYMid meet">
                    <!-- Background -->
                    <rect width="800" height="600" fill="#1a2a2a"/>

                    <!-- Sample Landmasses -->
                    <path d="M 100 100 L 200 80 L 250 150 L 220 250 L 100 200 Z" fill="#2a4a2a" stroke="#8B7355" stroke-width="2"/>
                    <path d="M 350 150 L 500 120 L 550 280 L 450 350 L 350 300 Z" fill="#2a4a2a" stroke="#8B7355" stroke-width="2"/>

                    <!-- Water (Ocean) -->
                    <text x="150" y="400" font-size="24" fill="#4a7a9e" opacity="0.5">~</text>
                    <text x="250" y="450" font-size="20" fill="#4a7a9e" opacity="0.5">~</text>
                    <text x="600" y="380" font-size="28" fill="#4a7a9e" opacity="0.5">~</text>

                    <!-- POI Markers -->
                    <circle cx="120" cy="120" r="8" fill="#FFD700" stroke="#D4AF37" stroke-width="2"/>
                    <circle cx="400" cy="200" r="8" fill="#FF6B6B" stroke="#D4AF37" stroke-width="2"/>
                    <circle cx="480" cy="280" r="8" fill="#4ECDC4" stroke="#D4AF37" stroke-width="2"/>
                    <circle cx="350" cy="350" r="8" fill="#95E1D3" stroke="#D4AF37" stroke-width="2"/>

                    <!-- Labels -->
                    <text x="130" y="110" font-size="16" fill="#FFD700" font-weight="bold">Valdria</text>
                    <text x="410" y="190" font-size="14" fill="#FF6B6B">Darkwood</text>
                    <text x="485" y="270" font-size="14" fill="#4ECDC4">Sanctuary</text>
                    <text x="360" y="340" font-size="14" fill="#95E1D3">Ruins</text>
                </svg>
            </div>

            <!-- Map Legend -->
            <div class="map-legend">
                <div class="legend-title">ğŸ“ Legend</div>
                <div class="legend-item">
                    <span class="legend-marker" style="background: #FFD700;"></span>
                    <span class="legend-text">ğŸª Safe Town / Hub</span>
                </div>
                <div class="legend-item">
                    <span class="legend-marker" style="background: #FF6B6B;"></span>
                    <span class="legend-text">âš”ï¸ Danger Zone</span>
                </div>
                <div class="legend-item">
                    <span class="legend-marker" style="background: #4ECDC4;"></span>
                    <span class="legend-text">ğŸ‘¥ NPC Location</span>
                </div>
                <div class="legend-item">
                    <span class="legend-marker" style="background: #95E1D3;"></span>
                    <span class="legend-text">ğŸšª Dungeon / Ruins</span>
                </div>
            </div>

            <!-- Location Details -->
            <div class="location-details">
                <div class="location-detail-item">
                    <div class="location-name">Valdria - Safe Town</div>
                    <div class="location-desc">Primary hub. Shops, quests, and rest. Currently here.</div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- ========================================
     2. SKILLS OVERLAY - Ready to Deploy
     ======================================== -->

<div id="skills-overlay" class="overlay">
    <div class="overlay-backdrop"></div>
    <div class="overlay-content">
        <div class="overlay-header">
            <h2>âš”ï¸ Skills & Abilities</h2>
            <button class="close-btn">&times;</button>
        </div>
        <div class="overlay-body">
            <!-- Skill Points Display -->
            <div class="skill-points-display">
                <div class="skill-points-label">Skill Points Available</div>
                <div class="skill-points-value">3</div>
            </div>

            <!-- Skills Grid -->
            <div class="skills-grid">
                <div class="skill-card">
                    <div class="skill-icon">âš”ï¸</div>
                    <div class="skill-name">Melee Attack</div>
                    <div class="skill-level">Rank 5</div>
                    <div class="skill-hotkey">Hotkey: 1</div>
                </div>

                <div class="skill-card">
                    <div class="skill-icon">ğŸ’¥</div>
                    <div class="skill-name">Power Strike</div>
                    <div class="skill-level">Rank 3</div>
                    <div class="skill-hotkey">Hotkey: 2</div>
                </div>

                <div class="skill-card">
                    <div class="skill-icon">ğŸ›¡ï¸</div>
                    <div class="skill-name">Defensive Stance</div>
                    <div class="skill-level">Rank 4</div>
                    <div class="skill-hotkey">Hotkey: 3</div>
                </div>

                <div class="skill-card">
                    <div class="skill-icon">ğŸ”¥</div>
                    <div class="skill-name">Fireball</div>
                    <div class="skill-level">Rank 2</div>
                    <div class="skill-hotkey">Hotkey: 4</div>
                </div>

                <div class="skill-card">
                    <div class="skill-icon">âš¡</div>
                    <div class="skill-name">Lightning Bolt</div>
                    <div class="skill-level">Rank 3</div>
                    <div class="skill-hotkey">Hotkey: 5</div>
                </div>

                <div class="skill-card">
                    <div class="skill-icon">ğŸ’Š</div>
                    <div class="skill-name">Healing Potion</div>
                    <div class="skill-level">Rank 4</div>
                    <div class="skill-hotkey">Hotkey: 6</div>
                </div>

                <div class="skill-card">
                    <div class="skill-icon">ğŸ”®</div>
                    <div class="skill-name">Arcane Mastery</div>
                    <div class="skill-level">Rank 2</div>
                    <div class="skill-hotkey">Assign: Click</div>
                </div>

                <div class="skill-card">
                    <div class="skill-icon">ğŸ“œ</div>
                    <div class="skill-name">Scroll Craft</div>
                    <div class="skill-level">Rank 1</div>
                    <div class="skill-hotkey">Assign: Click</div>
                </div>
            </div>

            <div class="skill-hint">
                ğŸ’¡ Click a skill to assign it to your hotbar, or use existing hotkeys (1-8) to execute abilities.
            </div>
        </div>
    </div>
</div>


<!-- ========================================
     3. QUEST LOG OVERLAY - Ready to Deploy
     ======================================== -->

<div id="quests-overlay" class="overlay">
    <div class="overlay-backdrop"></div>
    <div class="overlay-content">
        <div class="overlay-header">
            <h2>ğŸ“œ Quest Log</h2>
            <button class="close-btn">&times;</button>
        </div>
        <div class="overlay-body">
            <!-- Quest Tabs -->
            <div class="quest-tabs">
                <div class="quest-tab active" data-tab="active">
                    <span class="tab-icon">âš¡</span>
                    <span class="tab-label">Active</span>
                    <span class="tab-count">3</span>
                </div>
                <div class="quest-tab" data-tab="completed">
                    <span class="tab-icon">âœ“</span>
                    <span class="tab-label">Completed</span>
                    <span class="tab-count">12</span>
                </div>
            </div>

            <!-- Active Quests -->
            <div class="quest-list-container" id="active-quests">
                <div class="quest-item">
                    <div class="quest-header">
                        <div class="quest-title">The Medicine Heist</div>
                        <div class="quest-giver">from Grimsby</div>
                    </div>
                    <div class="quest-description">
                        Obtain medicine from the Duke's warehouse for Grimsby's daughter who is gravely ill.
                    </div>
                    <div class="quest-objectives">
                        <div class="quest-objective">
                            <span class="objective-checkbox">â³</span>
                            <span class="objective-text">Locate the medicine in the warehouse</span>
                        </div>
                        <div class="quest-objective">
                            <span class="objective-checkbox">â³</span>
                            <span class="objective-text">Escape the warehouse without getting caught</span>
                        </div>
                        <div class="quest-objective">
                            <span class="objective-checkbox">â³</span>
                            <span class="objective-text">Return medicine to Grimsby</span>
                        </div>
                    </div>
                    <div class="quest-rewards">
                        ğŸ Rewards: 500 XP, 100 gold, Grimsby's Approval +30
                    </div>
                </div>

                <div class="quest-item">
                    <div class="quest-header">
                        <div class="quest-title">Investigate the Guards</div>
                        <div class="quest-giver">Optional</div>
                    </div>
                    <div class="quest-description">
                        Determine if the warehouse guards are truly unaware or part of a trap.
                    </div>
                    <div class="quest-objectives">
                        <div class="quest-objective">
                            <span class="objective-checkbox">â³</span>
                            <span class="objective-text">Observe guard behavior</span>
                        </div>
                        <div class="quest-objective">
                            <span class="objective-checkbox">â³</span>
                            <span class="objective-text">Report findings to party</span>
                        </div>
                    </div>
                    <div class="quest-rewards">
                        ğŸ Rewards: 200 XP, 25 gold
                    </div>
                </div>

                <div class="quest-item">
                    <div class="quest-header">
                        <div class="quest-title">Examine the Medicine</div>
                        <div class="quest-giver">Optional</div>
                    </div>
                    <div class="quest-description">
                        Use arcane knowledge to check the medicine for curses or dark magic.
                    </div>
                    <div class="quest-objectives">
                        <div class="quest-objective">
                            <span class="objective-checkbox">â³</span>
                            <span class="objective-text">Inspect the medicine with Arcane Mastery</span>
                        </div>
                    </div>
                    <div class="quest-rewards">
                        ğŸ Rewards: 150 XP, 50 gold
                    </div>
                </div>
            </div>

            <!-- Completed Quests (Hidden by default) -->
            <div class="quest-list-container hidden" id="completed-quests">
                <div class="quest-item completed">
                    <div class="quest-header">
                        <div class="quest-title">Enter Valdria Safely</div>
                        <div class="quest-giver">Tutorial</div>
                    </div>
                    <div class="quest-description">
                        Reach the safe town hub without incident.
                    </div>
                    <div class="quest-rewards">
                        âœ“ Completed - 100 XP earned
                    </div>
                </div>
                <div style="text-align: center; color: #8B7355; padding: 20px;">
                    ... and 11 more completed quests
                </div>
            </div>
        </div>
    </div>
</div>


<!-- ========================================
     4. SETTINGS OVERLAY - Ready to Deploy
     ======================================== -->

<div id="settings-overlay" class="overlay">
    <div class="overlay-backdrop"></div>
    <div class="overlay-content">
        <div class="overlay-header">
            <h2>âš™ï¸ Settings</h2>
            <button class="close-btn">&times;</button>
        </div>
        <div class="overlay-body">
            <!-- Settings Tabs -->
            <div class="settings-tabs">
                <div class="settings-tab active" data-tab="audio">
                    <span class="tab-icon">ğŸ”Š</span>
                    <span class="tab-label">Audio</span>
                </div>
                <div class="settings-tab" data-tab="display">
                    <span class="tab-icon">ğŸ–¥ï¸</span>
                    <span class="tab-label">Display</span>
                </div>
                <div class="settings-tab" data-tab="controls">
                    <span class="tab-icon">ğŸ®</span>
                    <span class="tab-label">Controls</span>
                </div>
                <div class="settings-tab" data-tab="game">
                    <span class="tab-icon">ğŸ’¾</span>
                    <span class="tab-label">Game</span>
                </div>
            </div>

            <!-- Audio Settings Tab -->
            <div class="settings-tab-content" id="audio-settings">
                <div class="setting-group">
                    <div class="setting-label">Master Volume</div>
                    <div class="slider-container">
                        <input type="range" min="0" max="100" value="80" class="volume-slider master-volume">
                        <span class="volume-value">80%</span>
                    </div>
                </div>

                <div class="setting-group">
                    <div class="setting-label">Music Volume</div>
                    <div class="slider-container">
                        <input type="range" min="0" max="100" value="70" class="volume-slider music-volume">
                        <span class="volume-value">70%</span>
                    </div>
                </div>

                <div class="setting-group">
                    <div class="setting-label">SFX Volume</div>
                    <div class="slider-container">
                        <input type="range" min="0" max="100" value="85" class="volume-slider sfx-volume">
                        <span class="volume-value">85%</span>
                    </div>
                </div>

                <div class="setting-group">
                    <div class="setting-checkbox">
                        <input type="checkbox" id="ambience-toggle" checked>
                        <label for="ambience-toggle">Enable Ambience Sounds</label>
                    </div>
                </div>
            </div>

            <!-- Display Settings Tab (Hidden) -->
            <div class="settings-tab-content hidden" id="display-settings">
                <div class="setting-group">
                    <div class="setting-label">Brightness</div>
                    <div class="slider-container">
                        <input type="range" min="0" max="100" value="75" class="volume-slider">
                        <span class="volume-value">75%</span>
                    </div>
                </div>

                <div class="setting-group">
                    <div class="setting-label">Contrast</div>
                    <div class="slider-container">
                        <input type="range" min="0" max="100" value="100" class="volume-slider">
                        <span class="volume-value">100%</span>
                    </div>
                </div>

                <div class="setting-group">
                    <div class="setting-checkbox">
                        <input type="checkbox" id="fullscreen-toggle">
                        <label for="fullscreen-toggle">Fullscreen Mode</label>
                    </div>
                </div>

                <div class="setting-group">
                    <div class="setting-checkbox">
                        <input type="checkbox" id="vsync-toggle" checked>
                        <label for="vsync-toggle">Enable V-Sync</label>
                    </div>
                </div>
            </div>

            <!-- Controls Settings Tab (Hidden) -->
            <div class="settings-tab-content hidden" id="controls-settings">
                <div class="setting-group">
                    <div class="setting-label">Mouse Sensitivity</div>
                    <div class="slider-container">
                        <input type="range" min="1" max="10" value="5" class="volume-slider">
                        <span class="volume-value">5/10</span>
                    </div>
                </div>

                <div class="setting-group">
                    <div class="setting-label">Camera Speed</div>
                    <div class="slider-container">
                        <input type="range" min="1" max="10" value="6" class="volume-slider">
                        <span class="volume-value">6/10</span>
                    </div>
                </div>

                <div class="setting-group">
                    <div class="setting-checkbox">
                        <input type="checkbox" id="invert-y-toggle">
                        <label for="invert-y-toggle">Invert Y-Axis</label>
                    </div>
                </div>

                <div class="setting-group">
                    <div class="setting-checkbox">
                        <input type="checkbox" id="controller-toggle">
                        <label for="controller-toggle">Controller Support</label>
                    </div>
                </div>
            </div>

            <!-- Game Settings Tab (Hidden) -->
            <div class="settings-tab-content hidden" id="game-settings">
                <div class="game-actions">
                    <button class="game-action-btn save-btn">ğŸ’¾ Save Game</button>
                    <button class="game-action-btn load-btn">ğŸ“‚ Load Game</button>
                    <button class="game-action-btn menu-btn">ğŸ  Return to Menu</button>
                </div>

                <div class="game-info">
                    <div class="info-item">
                        <span class="info-label">Current Save:</span>
                        <span class="info-value">Valdria - Act 1, Turn 3</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Playtime:</span>
                        <span class="info-value">2 hours 45 minutes</span>
                    </div>
                </div>

                <div class="game-version">
                    v1.0 - The Arcane Codex
                </div>
            </div>
        </div>
    </div>
</div>


<!-- ========================================
     ADDITIONAL JAVASCRIPT REQUIRED
     ======================================== -->

<script>
// Quest Tab Switching
document.querySelectorAll('.quest-tab').forEach(tab => {
    tab.addEventListener('click', function() {
        const tabName = this.getAttribute('data-tab');

        // Update active tab
        document.querySelectorAll('.quest-tab').forEach(t => t.classList.remove('active'));
        this.classList.add('active');

        // Update visible content
        document.getElementById('active-quests').classList.toggle('hidden');
        document.getElementById('completed-quests').classList.toggle('hidden');
    });
});

// Settings Tab Switching
document.querySelectorAll('.settings-tab').forEach(tab => {
    tab.addEventListener('click', function() {
        const tabName = this.getAttribute('data-tab');

        // Update active tab
        document.querySelectorAll('.settings-tab').forEach(t => t.classList.remove('active'));
        this.classList.add('active');

        // Update visible content
        document.querySelectorAll('.settings-tab-content').forEach(content => {
            content.classList.add('hidden');
        });

        document.getElementById(`${tabName}-settings`).classList.remove('hidden');
    });
});

// Volume slider handlers
document.querySelectorAll('.volume-slider').forEach(slider => {
    slider.addEventListener('input', function() {
        const valueDisplay = this.parentElement.querySelector('.volume-value');
        if (valueDisplay) {
            valueDisplay.textContent = this.value + '%';
        }
    });
});

console.log('Overlay enhancements loaded successfully');
</script>
