# START THE ARCANE CODEX - Complete Guide

**Play a 1-4 player RPG with dynamic AI GM using your â‚¬200 Claude Max plan!**

**ZERO additional cost. NO API key needed. NO static content.**

---

## What You're Building

A web/mobile multiplayer RPG where:
- **1-4 players** connect on your home network
- **Asymmetric whispers**: Each player gets different information based on their class
- **100% dynamic scenarios**: Every quest is unique, generated by AI
- **Party trust mechanics**: Your choices affect trust (0-100)
- **NPC approval system**: NPCs can betray you if approval drops
- **Divine Council**: 7-8 gods vote on your actions
- **Uses your â‚¬200 Max**: NO separate API billing

---

## Quick Start (10 Minutes)

### Step 1: Configure Claude Desktop (3 minutes)

1. **Find your Claude Desktop config file:**
   ```
   Windows: %APPDATA%\Claude\claude_desktop_config.json
   Full path: C:\Users\ilmiv\AppData\Roaming\Claude\claude_desktop_config.json
   ```

2. **Edit the config file** (create if doesn't exist):

   ```json
   {
     "mcpServers": {
       "arcane-codex": {
         "command": "python",
         "args": [
           "C:\\Users\\ilmiv\\ProjectArgent\\complete_game\\mcp_scenario_server.py"
         ]
       }
     }
   }
   ```

3. **Restart Claude Desktop**
   - Quit Claude Desktop completely (not just minimize)
   - Start it again
   - Look for MCP indicator in bottom-right corner

### Step 2: Test MCP Connection (1 minute)

1. Open Claude Desktop
2. Type: "Test the arcane-codex MCP server"
3. You should see `generate_scenario` tool available
4. If you see it: âœ… MCP connected!

### Step 3: Start Game Server (1 minute)

Open Command Prompt and run:

```bash
cd C:\Users\ilmiv\ProjectArgent\complete_game
python web_game.py
```

Server starts at: **http://localhost:5000**

### Step 4: Connect Players (2 minutes)

**Player 1 (Your Computer):**
- Open browser: http://localhost:5000

**Player 2-4 (Other Devices on Same WiFi):**
1. Find your computer's IP:
   - Open Command Prompt
   - Type: `ipconfig`
   - Look for "IPv4 Address": **192.168.X.X**

2. On other device's browser:
   - Go to: **http://192.168.X.X:5000**

### Step 5: Play! ğŸ®

1. All players complete **Divine Interrogation** (10 questions)
2. Game assigns classes (Fighter, Mage, Thief, Cleric)
3. Adventure begins!
4. AI GM generates unique scenarios via MCP
5. Each player gets different whispers
6. Make choices together
7. Divine Council judges your actions

---

## How It Works (Technical)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Players (1-4)                     â”‚
â”‚   http://localhost:5000 or IP:5000  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚ Join game session
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Flask Web Server                  â”‚
â”‚   (web_game.py)                     â”‚
â”‚   â€¢ Serves responsive web UI        â”‚
â”‚   â€¢ Manages game sessions           â”‚
â”‚   â€¢ Delivers asymmetric whispers    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚ Request scenario
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MCP Server                         â”‚
â”‚   (mcp_scenario_server.py)           â”‚
â”‚   â€¢ Model Context Protocol           â”‚
â”‚   â€¢ Formats game state for Claude    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚ Via stdio
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Claude Desktop                     â”‚
â”‚   (Your â‚¬200 Max Plan)               â”‚
â”‚   â€¢ Generates unique scenarios       â”‚
â”‚   â€¢ Creates asymmetric whispers      â”‚
â”‚   â€¢ Designs NPC behaviors            â”‚
â”‚   â€¢ NO static content!               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚ Returns JSON scenario
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Game Engine                        â”‚
â”‚   (arcane_codex_server.py)           â”‚
â”‚   â€¢ Tracks party trust               â”‚
â”‚   â€¢ NPC approval ratings             â”‚
â”‚   â€¢ Divine favor per god             â”‚
â”‚   â€¢ Turn-based state                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Game Features

### Divine Interrogation (Character Creation)
- 10 randomized questions from gods (VALDRIS, KAITHA, MORVANE, etc.)
- Each player gets questions in different order
- Answers determine divine favor
- Class assigned based on god favor (Fighter, Mage, Thief, Cleric)

### Asymmetric Whispers
Each class sees different information:

| Class | Whisper Type | Example Info |
|-------|-------------|--------------|
| **Fighter** | Tactical | Guard positions, weapon types, combat readiness |
| **Mage** | Arcane | Magic auras, curses, arcane symbols, illusions |
| **Thief** | Social | Lies, hidden motives, secret passages, valuables |
| **Cleric** | Moral | Divine judgment preview, moral consequences |

### Party Trust System
- **0-100 scale**
- Starts at 50
- Increases: Honest cooperation, shared information
- Decreases: Lies, betrayal, conflicting choices
- **Below 30**: NPCs may betray party
- **Above 70**: NPCs offer help, better outcomes

### NPC Approval
- Each NPC has approval rating (0-100)
- Affected by: Choices, dialogue, actions toward NPC
- **Low approval (<30)**: NPC may betray, leave, or sabotage
- **High approval (>70)**: NPC offers bonuses, protects party

**Fatal Flaws (can trigger at low approval):**
- IMPULSIVE, COWARDLY, GREEDY, VENGEFUL, IRRATIONAL, PRIDEFUL, OBSESSIVE

### Divine Council Voting
After each major choice, 7-8 gods vote:
- **VALDRIS** (Order) - Favors law, structure
- **KAITHA** (Chaos) - Favors freedom, rebellion
- **MORVANE** (Death) - Respects inevitability
- **SYLARA** (Nature) - Protects balance
- **KORVAN** (War) - Values strength
- **ATHENA** (Wisdom) - Rewards cleverness
- **MERCUS** (Commerce) - Appreciates trade
- **DRAKMOR** (Darkness) - Endorses cunning

Voting affects divine favor and future scenarios.

### Environmental Tactics (BG3-style)
- **Explosive barrels**: Massive AoE damage
- **Chandeliers**: Drop on enemies below
- **Oil slicks**: Fire spreads, creates hazards
- **High ground**: Tactical advantage
- **Water**: Conducts electricity, extinguishes fire

---

## Troubleshooting

### "MCP server not showing in Claude Desktop"
- âœ… Check config path: `%APPDATA%\Claude\claude_desktop_config.json`
- âœ… Verify Python path in config is correct
- âœ… Restart Claude Desktop completely (quit + reopen)
- âœ… Look for MCP indicator (bottom-right corner)

### "Can't find claude_desktop_config.json"
- Create it manually at: `C:\Users\ilmiv\AppData\Roaming\Claude\claude_desktop_config.json`
- Use the JSON config from Step 1 above

### "Python command not found in MCP config"
- Find Python path: `where python` in Command Prompt
- Use full path in config:
  ```json
  "command": "C:\\Python313\\python.exe"
  ```

### "Server won't start"
- Check Python installed: `python --version`
- Install packages:
  ```bash
  pip install flask flask-cors python-dotenv mcp
  ```

### "Can't connect from phone/tablet"
- âœ… Both devices on same WiFi network
- âœ… Check firewall isn't blocking port 5000
- âœ… Use correct IP: `ipconfig` shows IPv4 Address
- âœ… Format: http://192.168.X.X:5000 (not localhost)

### "Scenarios aren't generating"
- âœ… MCP server configured in Claude Desktop
- âœ… Claude Desktop is running
- âœ… `generate_scenario` tool appears when testing
- âœ… Check terminal for error messages from web_game.py

---

## Cost & Billing

### ZERO Additional Cost

This uses your existing **â‚¬200 Claude Max subscription** through MCP.

**What's included:**
- âœ… Unlimited scenario generation (within Claude Desktop usage limits)
- âœ… All dynamic content creation
- âœ… Complete AI GM functionality
- âœ… Asymmetric whisper generation
- âœ… NPC behavior generation
- âœ… Divine Council vote calculation

**What's NOT needed:**
- âŒ NO separate Anthropic API key
- âŒ NO per-request billing
- âŒ NO additional subscription
- âŒ NO usage credits to buy

Your â‚¬200 Max plan covers everything.

---

## File Structure

### Core Files (Don't Delete!)
```
complete_game/
â”œâ”€â”€ arcane_codex_server.py      # Game engine (1400+ lines)
â”œâ”€â”€ mcp_scenario_server.py      # MCP server for Claude Desktop
â”œâ”€â”€ web_game.py                 # Flask web interface
â”œâ”€â”€ discord_bot.py              # Alternative Discord interface
â”œâ”€â”€ .env                        # Environment config (Discord token)
â””â”€â”€ requirements.txt            # Python dependencies
```

### Documentation
```
â”œâ”€â”€ START_GAME.md               # This file - complete guide
â”œâ”€â”€ QUICK_TEST_SETUP.md         # Fast 10-minute setup
â”œâ”€â”€ MCP_SETUP.md                # Detailed MCP configuration
â”œâ”€â”€ IMPLEMENTATION_SUMMARY.md   # Technical overview
â”œâ”€â”€ AI_GM_DYNAMIC_SYSTEM.md     # Scenario generation rules
â””â”€â”€ README.md                   # Full game documentation
```

---

## Alternative: Discord Bot

If you prefer Discord over web UI:

1. **Enable Privileged Intents:**
   - Go to: https://discord.com/developers/applications
   - Select your bot
   - Go to "Bot" section
   - Enable: "Message Content Intent"
   - Save changes

2. **Run Discord Bot:**
   ```bash
   cd C:\Users\ilmiv\ProjectArgent\complete_game
   python discord_bot.py
   ```

3. **Commands:**
   - `!begin` - Start Divine Interrogation
   - `!start` - Begin adventure
   - `!whisper` - Get your class whisper
   - `!council` - See Divine Council votes

**Note**: Discord bot also uses MCP for scenario generation.

---

## Summary

âœ… **What you have**: Complete RPG with all mechanics
âœ… **What you need**: 10 minutes to configure MCP
âœ… **What you pay**: ZERO (uses â‚¬200 Max plan)
âœ… **What you get**: Dynamic AI GM, 1-4 players, web/mobile

**NO API key. NO static content. NO additional billing.**

Everything runs on your local network. Scenarios generated via Claude Desktop (your â‚¬200 Max subscription).

---

## Ready to Play?

1. Configure MCP (Step 1-2)
2. Start server (Step 3)
3. Connect players (Step 4)
4. Play! (Step 5)

**Questions?** See:
- `QUICK_TEST_SETUP.md` - Faster version of this guide
- `MCP_SETUP.md` - Deep dive into MCP configuration
- `README.md` - Complete game mechanics documentation

**Have fun exploring The Arcane Codex!** ğŸ²âœ¨
