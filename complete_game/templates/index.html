<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Arcane Codex - Multiplayer RPG</title>
    <link rel="stylesheet" href="/static/css/game.css">
</head>
<body class="landing-page">
    <!-- Animated Particle Background -->
    <div class="magic-particles"></div>
    <div class="divine-aura"></div>

    <!-- Ancient Book Opening Layout -->
    <div class="codex-book">
        <!-- Left Page -->
        <div class="book-page book-left">
            <!-- Divine Eye Symbol -->
            <svg class="divine-eye" width="80" height="80" viewBox="0 0 80 80">
                <defs>
                    <radialGradient id="eyeGlow">
                        <stop offset="0%" style="stop-color:#00ff00;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#ffb000;stop-opacity:0" />
                    </radialGradient>
                </defs>
                <circle cx="40" cy="40" r="35" stroke="#00ff00" stroke-width="2" fill="none" opacity="0.6"/>
                <circle cx="40" cy="40" r="28" stroke="#ffb000" stroke-width="1" fill="none" opacity="0.4"/>
                <ellipse cx="40" cy="40" rx="25" ry="15" fill="#00ffff" opacity="0.3"/>
                <circle cx="40" cy="40" r="12" fill="#ffb000"/>
                <circle cx="40" cy="40" r="8" fill="#0a0a0f"/>
                <circle cx="42" cy="38" r="3" fill="#00ff00" opacity="0.8"/>
            </svg>

            <h1 class="codex-title">The Arcane<br>Codex</h1>
            <div class="codex-subtitle">Where Secrets Shatter Bonds<br>and Gods Judge the Fallen</div>

            <div class="lore-scroll">
                <!-- Mystical Divider -->
                <svg class="scroll-divider" width="100%" height="2" viewBox="0 0 300 2">
                    <line x1="0" y1="1" x2="300" y2="1" stroke="#00ffff" stroke-width="1" opacity="0.5"/>
                    <circle cx="150" cy="1" r="3" fill="#ffb000"/>
                </svg>

                <div class="lore-entry">
                    <span class="lore-icon">‚ö°</span>
                    <p>Seven gods demand answers. They pierce your soul with impossible questions.</p>
                </div>
                <div class="lore-entry">
                    <span class="lore-icon">üó°Ô∏è</span>
                    <p>Your companions whisper things you cannot hear. What they know might save you.</p>
                </div>
                <div class="lore-entry">
                    <span class="lore-icon">üíî</span>
                    <p>Share what you know, and risk betrayal. Hide the truth, and watch them fall.</p>
                </div>
                <div class="lore-entry">
                    <span class="lore-icon">üëÅÔ∏è</span>
                    <p>The gods see your choices. They judge your heart. Their wrath is eternal.</p>
                </div>
            </div>

            <div class="page-footer">
                <p>In Valdria, every word carries weight</p>
            </div>
        </div>

        <!-- Right Page -->
        <div class="book-page book-right">
            <div class="page-decoration-right">‚ú¶</div>

            <!-- Step 1: Username Entry (shown first) -->
            <div id="username-screen" class="auth-screen">
                <h2 class="page-heading">Enter the Realm</h2>
                <div class="ritual-circle">
                    <div class="circle-content">
                        <form id="username-form" class="ritual-form">
                            <div class="ritual-label">Inscribe Your Name</div>
                            <p class="ritual-description">The codex requires your identity to begin</p>
                            <input
                                type="text"
                                id="username-input"
                                name="username"
                                placeholder="Your name..."
                                minlength="2"
                                maxlength="20"
                                required
                                class="rune-input"
                            >
                            <button type="submit" class="rune-button rune-create">
                                <span class="rune-symbol">üë§</span>
                                <span>Proceed</span>
                            </button>
                        </form>
                    </div>
                </div>
                <div class="page-footer">
                    <p>1-4 Players | Local WiFi Network</p>
                </div>
            </div>

            <!-- Step 2: Create/Join Game (shown after username set) -->
            <div id="game-selection-screen" class="auth-screen" style="display: none;">
                <h2 class="page-heading">Welcome, <span id="display-username">Traveler</span></h2>
                <div class="ritual-circle">
                    <div class="circle-content">
                        <form id="create-game-form" class="ritual-form">
                            <div class="ritual-label">Begin a New Tale</div>
                            <button type="submit" class="rune-button rune-create">
                                <span class="rune-symbol">‚ú®</span>
                                <span>Create Game</span>
                            </button>
                        </form>

                        <div class="ritual-divider">
                            <span class="divider-rune">‚óÜ</span>
                            <span class="divider-text">or</span>
                            <span class="divider-rune">‚óÜ</span>
                        </div>

                        <form id="join-game-form" class="ritual-form">
                            <div class="ritual-label">Join an Existing Quest</div>
                            <input
                                type="text"
                                id="game-code"
                                name="gameCode"
                                placeholder="Six runes of power..."
                                maxlength="6"
                                pattern="[A-Z0-9]{6}"
                                required
                                class="rune-input"
                            >
                            <button type="submit" class="rune-button rune-join">
                                <span class="rune-symbol">üö™</span>
                                <span>Join Game</span>
                            </button>
                        </form>
                    </div>
                </div>
                <div class="page-footer">
                    <p>1-4 Players | Every story is unique</p>
                </div>
            </div>
        </div>

        <!-- Center binding decoration -->
        <div class="book-spine"></div>
    </div>

    <div id="error-message" class="error-message" role="alert" aria-live="polite"></div>
    <div id="loading-overlay" class="loading-overlay" aria-hidden="true">
        <div class="spinner"></div>
        <p>The codex opens...</p>
    </div>

    <script src="/static/js/game.js"></script>
    <script>
        // Initialize landing page
        document.addEventListener('DOMContentLoaded', () => {
            const game = new ArcaneCodexGame();
            game.initLandingPage();
        });
    </script>
</body>
</html>