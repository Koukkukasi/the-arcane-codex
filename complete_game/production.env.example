# ==============================================================================
# THE ARCANE CODEX - PRODUCTION ENVIRONMENT CONFIGURATION
# ==============================================================================
# Copy this file to .env.production and fill in your actual values
# NEVER commit the .env.production file to version control!

# ==============================================================================
# APPLICATION SETTINGS
# ==============================================================================
FLASK_APP=web_game.py
FLASK_ENV=production
FLASK_DEBUG=false
SECRET_KEY=CHANGE_THIS_TO_A_LONG_RANDOM_STRING_MIN_32_CHARS

# Server configuration
HOST=0.0.0.0
PORT=5000

# Application name and version
APP_NAME=arcane-codex
APP_VERSION=1.0.0

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
DB_PATH=/var/lib/arcane-codex/arcane_codex.db
DB_POOL_SIZE=20
DB_TIMEOUT=30
DB_BACKUP_DIR=/var/backups/arcane-codex
DB_BACKUP_RETENTION_DAYS=30

# ==============================================================================
# REDIS CACHE (Optional but recommended for production)
# ==============================================================================
REDIS_ENABLED=true
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD
CACHE_DEFAULT_TTL=300
CACHE_ENABLED=true

# ==============================================================================
# SECURITY SETTINGS
# ==============================================================================
# Rate limiting
RATE_LIMIT_ENABLED=true
MAX_REQUESTS_PER_MINUTE=100
MAX_REQUESTS_PER_HOUR=1000

# Session configuration
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax
PERMANENT_SESSION_LIFETIME=3600

# CORS settings (comma-separated list of allowed origins)
CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com
CORS_ALLOW_CREDENTIALS=true

# Content Security Policy
CSP_ENABLED=true

# ==============================================================================
# SOCKETIO CONFIGURATION
# ==============================================================================
SOCKETIO_ASYNC_MODE=eventlet
SOCKETIO_LOGGER=false
SOCKETIO_ENGINEIO_LOGGER=false
SOCKETIO_PING_TIMEOUT=60
SOCKETIO_PING_INTERVAL=25
SOCKETIO_MAX_HTTP_BUFFER_SIZE=1000000

# ==============================================================================
# ANTHROPIC API (AI Game Master)
# ==============================================================================
ANTHROPIC_API_KEY=your-anthropic-api-key-here
ANTHROPIC_MODEL=claude-sonnet-4-5-20250929
ANTHROPIC_MAX_TOKENS=4096
ANTHROPIC_TIMEOUT=30

# ==============================================================================
# PERFORMANCE & SCALING
# ==============================================================================
MAX_CONCURRENT_GAMES=100
RECONNECT_TIMEOUT_MINUTES=10
CLEANUP_INTERVAL_MINUTES=30

# Worker configuration (for Gunicorn)
WORKERS=4
WORKER_CLASS=eventlet
WORKER_CONNECTIONS=1000
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100
TIMEOUT=120
KEEPALIVE=5

# ==============================================================================
# LOGGING CONFIGURATION
# ==============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=/var/log/arcane-codex/app.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=10
LOG_TO_STDOUT=true
LOG_TO_FILE=true

# Sentry error tracking (optional)
SENTRY_ENABLED=false
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# ==============================================================================
# SSL/TLS CONFIGURATION
# ==============================================================================
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/arcane-codex.crt
SSL_KEY_PATH=/etc/ssl/private/arcane-codex.key

# ==============================================================================
# MONITORING & HEALTH CHECKS
# ==============================================================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
METRICS_ENABLED=true
METRICS_PATH=/metrics

# ==============================================================================
# EMAIL NOTIFICATIONS (Optional)
# ==============================================================================
SMTP_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
ADMIN_EMAIL=admin@your-domain.com

# ==============================================================================
# BACKUP & MAINTENANCE
# ==============================================================================
AUTO_BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_COMPRESSION=true
MAINTENANCE_MODE=false

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================
ENABLE_AI_GM=true
ENABLE_MULTIPLAYER=true
ENABLE_DISCORD_INTEGRATION=false
ENABLE_ANALYTICS=false

# ==============================================================================
# NODE.JS BACKEND (if using hybrid architecture)
# ==============================================================================
NODE_PORT=3000
NODE_ENV=production
NODE_SESSION_SECRET=CHANGE_THIS_NODE_SESSION_SECRET
